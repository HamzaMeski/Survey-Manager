<section class="bg-gradient-to-br from-gray-900 to-black">
  <div class="flex gap-2 mb-4">
    <button
      (click)="logout()"
      [routerLink]="'/'"
      class="px-4 py-2 bg-red-500 text-white rounded">
      Logout
    </button>
  </div>
  <div class="text-gray-300 container mx-auto p-8 overflow-hidden md:rounded-lg md:p-10 lg:p-12">
    <div class="flex justify-between">
      <h1 class="font-serif text-3xl font-medium">Landing</h1>
      <a href="https://github.com/gary149/landing-gradients"
         class="self-start px-3 py-2 leading-none text-gray-200 border border-gray-800 rounded-lg focus:outline-none focus:shadow-outline bg-gradient-to-b hover:from-indigo-500 from-gray-900 to-black">
        ITLens System
      </a>
    </div>

    <div class="h-32 md:h-40"></div>

    <p class="font-sans text-4xl font-bold text-gray-200 max-w-5xl lg:text-7xl lg:pr-24 md:text-6xl">
      managing surveys, questions, and answers<br> <em class="text-green-500">&lt;/</em> ITlens <em class="text-green-500">&gt;</em>
    </p>
    <div class="h-10"></div>
    <p class="max-w-2xl font-serif text-xl text-gray-400 md:text-2xl">
      managing surveys, questions, and answers with comprehensive analytics capabilities.
    </p>

    <div class="h-32 md:h-40"></div>

    <div class="grid gap-8 md:grid-cols-2">
      <div class="flex flex-col justify-center">
        <p
          class="self-start inline font-sans text-xl font-medium text-transparent bg-clip-text bg-gradient-to-br from-green-400 to-green-600">
          Simple and easy
        </p>
        <h2 class="text-4xl font-bold">Made for devs and designers</h2>
        <div class="h-6"></div>
        <p class="font-serif text-xl text-gray-400 md:pr-10">
          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam
          autem, a recusandae vero praesentium qui impedit doloremque
          molestias necessitatibus.
        </p>
        <div class="h-8"></div>
        <div class="grid grid-cols-2 gap-4 pt-8 border-t border-gray-800">
          <div>
            <p class="font-semibold text-gray-400">Made with love</p>
            <div class="h-4"></div>
            <p class="font-serif text-gray-400">
              Lorem ipsum dolor sit, amet consectetur adipisicing elit.
              Delectus labor.
            </p>
          </div>
          <div>
            <p class="font-semibold text-gray-400">It's easy to build</p>
            <div class="h-4"></div>
            <p class="font-serif text-gray-400">
              Ipsum dolor sit, amet consectetur adipisicing elit. Delectus
              amet consectetur.
            </p>
          </div>
        </div>
      </div>
      <div>
        <div class="-mr-24 rounded-lg md:rounded-l-full bg-gradient-to-br from-gray-900 to-black h-96"></div>
      </div>
    </div>

    <div class="h-32 md:h-40"></div>

    <p class="font-serif text-4xl">
      <span class="text-gray-400">If we work all together</span>

      <span class="text-gray-600"
      >consectetur adipisicing elit. Consectetur atque molestiae omnis
            excepturi enim!</span>
    </p>

    <div class="h-32 md:h-40"></div>

    <div class="flex justify-between items-center mb-6">
      <h1 class="text-3xl font-bold font-serif">SURVEYS</h1>
      <button
        *hasPermission="'create'"
        (click)="showCreateSurveyModal = true"
        class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded flex items-center gap-1">
          <i class="fa-solid fa-square-poll-vertical text-2xl"></i>
          <em>Create Survey</em>
      </button>
    </div>

    <div class="grid gap-4 md:grid-cols-3">
      <div *ngFor="let survey of surveys"
           class="flex-col p-8 hover:scale-105 hover:ease-out hover:duration-300 rounded-lg shadow-gray-900 shadow-lg md:p-12 bg-gradient-to-br from-gray-900 to-black">
        <h2 class="font-serif flex items-center gap-2">
          <p
            class="flex items-center justify-center text-2xl font-semibold rounded-full shadow-lg w-12 h-12"
            [class]="bgFn()"
          >
            &lt; &gt;
          </p>
          <p class="text-2xl">
            {{survey.title}}
          </p>
        </h2>
        <p class="text-gray-600 mb-4">{{survey.description}}</p>
        <p class="text-gray-600 mb-4">owner id: {{survey.owner.id}}</p>

        <div class="flex-col">
          <div class="my-4">
            <div *ngIf="!survey.editions.length" class="text-gray-500 text-sm">
              No editions available
            </div>

            <div
              *ngIf="survey.editions.length"
              (click)="openEditionsModal(survey)"
              class="cursor-pointer underline text-white font-bold p-2"
            >
              <span>View {{ survey.editions.length }} Edition</span>
            </div>
          </div>
          <div class="flex space-x-2">
            <button class="relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-purple-500 to-pink-500 group-hover:from-purple-500 group-hover:to-pink-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-purple-200 dark:focus:ring-purple-800">
              <span class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0">
                Details
              </span>
            </button>
            <button
              *hasPermission="'edit'"
              (click)="onEditClick(survey)"
              class="relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-green-400 to-blue-600 group-hover:from-green-400 group-hover:to-blue-600 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-green-200 dark:focus:ring-green-800"
            >
              <span class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0">
                Edit
              </span>
            </button>
            <button
              *hasPermission="'delete'"
              class="relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-red-300 via-red-500 to-red-600 group-hover:from-red-200 group-hover:via-red-300 group-hover:to-red-200 dark:text-white dark:hover:text-gray-900 focus:ring-4 focus:outline-none focus:ring-red-100 dark:focus:ring-red-400"
              (click)="onDeleteClick(survey)"
            >
              <span class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0">
                Delete
              </span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="h-40"></div>

    <div class="grid gap-8 md:grid-cols-3">
      <div class="flex flex-col justify-center md:col-span-2">
        <p
          class="self-start inline font-sans text-xl font-medium text-transparent bg-clip-text bg-gradient-to-br from-teal-400 to-teal-600">
          We are humans
        </p>
        <h2 class="text-4xl font-bold">We could work together</h2>
        <div class="h-6"></div>
        <p class="font-serif text-xl text-gray-400 md:pr-10">
          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Magnam
          autem, a recusandae vero praesentium qui impedit doloremque
          molestias.
        </p>
        <div class="h-8"></div>
        <div class="grid gap-6 pt-8 border-t border-gray-800 lg:grid-cols-3">
          <div>
            <p class="font-semibold text-gray-400">Made with love</p>
            <div class="h-4"></div>
            <p class="font-serif text-gray-400">
              Lorem ipsum dolor sit, amet consectetur adipisicing elit.
              Delectus labor.
            </p>
          </div>
          <div>
            <p class="font-semibold text-gray-400">It's easy to build</p>
            <div class="h-4"></div>
            <p class="font-serif text-gray-400">
              Ipsum dolor sit, amet consectetur adipisicing elit. Delectus
              amet consectetur.
            </p>
          </div>
          <div>
            <p class="font-semibold text-gray-400">It's easy to build</p>
            <div class="h-4"></div>
            <p class="font-serif text-gray-400">
              Ipsum dolor sit, amet consectetur adipisicing elit. Delectus
              amet consectetur.
            </p>
          </div>
        </div>
      </div>
      <div>
        <div class="-mr-24 rounded-lg md:rounded-l-full bg-gradient-to-br from-gray-900 to-black h-96"></div>
      </div>
    </div>

    <div class="h-10 md:h-40"></div>

    <div class="grid gap-4 md:grid-cols-4">
      <ul class="space-y-1 text-gray-400">
        <li class="pb-4 font-serif text-gray-400">Social networks</li>
        <li>
          <a href="https://twitter.com/victormustar" class="hover:underline">Twitter</a>
        </li>
        <li>
          <a href="#" class="hover:underline">Linkedin</a>
        </li>
        <li>
          <a href="#" class="hover:underline">Facebook</a>
        </li>
      </ul>
      <ul class="space-y-1 text-gray-400">
        <li class="pb-4 font-serif text-gray-400">Locations</li>
        <li>
          <a href="#" class="hover:underline">Paris</a>
        </li>
        <li>
          <a href="#" class="hover:underline">New York</a>
        </li>
        <li>
          <a href="#" class="hover:underline">London</a>
        </li>
        <li>
          <a href="#" class="hover:underline">Singapour</a>
        </li>
      </ul>
      <ul class="space-y-1 text-gray-400">
        <li class="pb-4 font-serif text-gray-400">Company</li>
        <li>
          <a href="#" class="hover:underline">The team</a>
        </li>
        <li>
          <a href="#" class="hover:underline">About us</a>
        </li>
        <li>
          <a href="#" class="hover:underline">Our vision</a>
        </li>
        <li>
          <a href="#" class="hover:underline">Join us</a>
        </li>
      </ul>
      <ul class="space-y-1 text-gray-400">
        <li class="pb-4 font-serif text-gray-400">Join</li>
        <li>
          <a href="https://github.com/gary149/landing-gradients"
             class="self-start px-3 py-2 leading-none text-gray-200 border border-gray-800 rounded-lg focus:outline-none focus:shadow-outline bg-gradient-to-b hover:from-indigo-500 from-gray-900 to-black">
            ITLens System
          </a>
        </li>
      </ul>
    </div>
    <div class="h-12"></div>
  </div>
</section>




<!-- Create Modal -->
<app-modal
  *ngIf="showCreateSurveyModal"
  title="Create New Survey"
  (onClose)="showCreateSurveyModal = false">
  <app-survey-create
    (surveyCreated)="onSurveyCreated()">
  </app-survey-create>
</app-modal>

<!-- Edit Modal -->
<app-modal
  *ngIf="showEditSurveyModal"
  title="Edit Survey"
  (onClose)="showEditSurveyModal = false">
  <app-survey-edit
    [survey]="selectedSurvey!"
    (surveyEdited)="onSurveyEdited()">
  </app-survey-edit>
</app-modal>

<!-- Delete Confirmation Modal -->
<app-confirmation-modal
  *ngIf="showDeleteSurveyModal"
  title="Delete Survey"
  message="Are you sure you want to delete this survey? This action cannot be undone."
  confirmText="Delete"
  (onConfirm)="confirmDelete()"
  (onCancel)="showDeleteSurveyModal = false">
</app-confirmation-modal>

<!-- Editions Modal -->
<app-modal
  *ngIf="showEditionsModal"
  title="Survey Editions"
  (onClose)="showEditionsModal = false">
  <div class="p-4 ">
    <h2 class="text-xl font-semibold mb-4">{{ selectedSurvey?.title }} - Editions</h2>
    <div class="space-y-4 max-h-[60vh] overflow-y-auto pr-2">
      <div *ngFor="let edition of selectedSurvey?.editions"
           [routerLink] = "['/editions', edition.id]"
           class="bg-white cursor-pointer p-4 rounded-lg border hover:shadow-md transition-shadow">
        <div class="flex justify-between items-start">
          <div>
            <strong class="text-blue-600 text-lg">Version {{ edition.version }}</strong>
            <div class="mt-1">
              <span class="px-2 py-1 rounded text-sm">
                  {{ edition.status }}
              </span>
            </div>
          </div>
          <div class="text-right">
            <div class="text-sm text-gray-600">Created: {{ edition.creationDate | date }}</div>
            <div class="text-sm text-gray-600">Period:</div>
            <div class="text-sm font-medium">
              {{ edition.startDate | date }} - {{ edition.endDate | date }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</app-modal>
